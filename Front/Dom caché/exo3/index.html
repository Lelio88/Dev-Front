<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Exo 1</title>
	<style type="text/css">


	
	</style>
</head>
<body>
	<h1>Exercice 3</h1>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed interdum finibus libero, id aliquet ante mollis volutpat. Maecenas suscipit orci non nisi
		 <span data-desc="Détails sollicitudin">sollicitudin</span>, quis dictum libero commodo. Nulla eget leo non felis volutpat iaculis. Donec vel dolor imperdiet, suscipit erat in, dictum felis. Donec eu orci est. Mauris aliquet, metus eu pellentesque accumsan, neque nulla consectetur lectus, id <span data-desc="Détails de scelerique ...">scelerisque</span> nibh nunc at sapien. Integer vitae ornare ipsum. Nullam sed magna et lorem convallis semper. Morbi consequat lectus vitae nulla vulputate vestibulum. Aenean porttitor condimentum risus at hendrerit. Maecenas at rutrum arcu. Aenean varius ex lacus, sit amet tincidunt magna finibus nec. In eget rutrum dui. Integer semper metus id congue luctus.</p>
	<p>Pour test : <span>Un span sans attribut data-*</span>.</p>
	<div id="desc"></div>
	<script type="text/javascript">
	addEventListener('DOMContentLoaded', function() {
		
		/* à compléter */
		let div=document.querySelector("#desc");
		let elts= document.querySelectorAll("span");
		
		elts.forEach(elt => {
			if(elt.dataset.desc){
				let style=document.createElement("style");
		style.textContent=".infoTrue{ display: inline; position: absolute; background-color:white; padding:5px; border:1px solid black;} .infoFalse{ display: None; position: relative;}"
				elt.style.backgroundColor="red"
				let span=document.createElement("span");
				let p = document.createElement("p")
				p.textContent="Detail de " + elt.textContent
				p.classList.toggle("infoFalse")
				let shadow= elt.attachShadow({mode: "open"});
				span.textContent=elt.textContent;
				shadow.appendChild(span);
				shadow.appendChild(style);
				shadow.appendChild(p);

				elt.addEventListener("mouseover",function(e){
					div.textContent=elt.textContent
					p.classList.toggle("infoFalse")
					p.classList.toggle("infoTrue")

				})
				elt.addEventListener("mouseout",function(e){
					div.textContent=""
					p.classList.toggle("infoFalse")
					p.classList.toggle("infoTrue")
				})
			}
			
			
		});
		

	});
	</script>
</body>
</html>