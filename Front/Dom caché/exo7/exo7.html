<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Exo 7</title>
    <style>

    </style>
</head>
<body>
    <h1>Exercice 7 - text count et template</h1>
    <template id="char-count">
        <style type="text/css">
            /* style par défaut cache pour p et output */
        </style>
        <p>Saisissez du texte</p><output>18 caractères</output>
    </template>
    <char-count><p contenteditable>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed interdum finibus libero, id aliquet ante mollis volutpat. Maecenas suscipit orci non nisi sollicitudin, quis dictum libero commodo. Nulla eget leo non felis volutpat iaculis. Donec vel dolor imperdiet, suscipit erat in, dictum felis. Donec eu orci est. Mauris aliquet, metus eu pellentesque accumsan, neque nulla consectetur lectus, id scelerisque nibh nunc at sapien. Integer vitae ornare ipsum. Nullam sed magna et lorem convallis semper. Morbi consequat lectus vitae nulla vulputate vestibulum. Aenean porttitor condimentum risus at hendrerit. Maecenas at rutrum arcu. Aenean varius ex lacus, sit amet tincidunt magna finibus nec. In eget rutrum dui. Integer semper metus id congue luctus.</p></char-count>
    <script>
        // Create a class for the element
        class CharCount extends HTMLElement {
          constructor() {
            // Always call super first in constructor
            // Return value from super() is a reference to this element
            self = super();

            // fonctionnalités spécifiques à TextCount
            }
            connectedCallback(){
                const template = document.getElementById("char-count");
                const shadow = self.attachShadow({mode: 'open'});
                const frag = template.content.cloneNode(true);
                shadow.appendChild(frag);
            }
        }

        // Define the new element
        customElements.define('char-count', CharCount);

    </script>
</body>
</html>
